2024-09-09T14:41:28.072+0900 [INFO]  Terraform version: 1.9.5
2024-09-09T14:41:28.138+0900 [DEBUG] using github.com/hashicorp/go-tfe v1.58.0
2024-09-09T14:41:28.138+0900 [DEBUG] using github.com/hashicorp/hcl/v2 v2.20.0
2024-09-09T14:41:28.138+0900 [DEBUG] using github.com/hashicorp/terraform-svchost v0.1.1
2024-09-09T14:41:28.138+0900 [DEBUG] using github.com/zclconf/go-cty v1.14.4
2024-09-09T14:41:28.138+0900 [INFO]  Go runtime version: go1.22.5
2024-09-09T14:41:28.138+0900 [INFO]  CLI args: []string{"C:\\Users\\soldesk\\Desktop\\terraform_1.9.5_windows_amd64\\terraform.exe", "init"}
2024-09-09T14:41:28.143+0900 [DEBUG] Attempting to open CLI config file: C:\Users\soldesk\AppData\Roaming\terraform.rc
2024-09-09T14:41:28.144+0900 [DEBUG] File doesn't exist, but doesn't need to. Ignoring.
2024-09-09T14:41:28.144+0900 [DEBUG] ignoring non-existing provider search directory terraform.d/plugins
2024-09-09T14:41:28.144+0900 [DEBUG] ignoring non-existing provider search directory C:\Users\soldesk\AppData\Roaming\terraform.d\plugins
2024-09-09T14:41:28.146+0900 [DEBUG] ignoring non-existing provider search directory C:\Users\soldesk\AppData\Roaming\HashiCorp\Terraform\plugins
2024-09-09T14:41:28.146+0900 [INFO]  CLI command args: []string{"init"}
2024-09-09T14:41:28.150+0900 [DEBUG] checking for provisioner in "."
2024-09-09T14:41:28.150+0900 [DEBUG] checking for provisioner in "C:\\Users\\soldesk\\Desktop\\terraform_1.9.5_windows_amd64"
2024-09-09T14:41:28.152+0900 [DEBUG] Module installer: begin nat
2024-09-09T14:41:28.153+0900 [DEBUG] Module installer: nat installed at
2024-09-09T14:41:28.153+0900 [DEBUG] Module installer: begin security_group
2024-09-09T14:41:28.154+0900 [DEBUG] Module installer: security_group installed at
2024-09-09T14:41:28.154+0900 [DEBUG] Module installer: begin subnets
2024-09-09T14:41:28.154+0900 [DEBUG] Module installer: subnets installed at
2024-09-09T14:41:28.154+0900 [DEBUG] Module installer: begin vpc
2024-09-09T14:41:28.154+0900 [DEBUG] Module installer: vpc installed at
2024-09-09T14:47:32.677+0900 [INFO]  Terraform version: 1.9.5
2024-09-09T14:47:32.741+0900 [DEBUG] using github.com/hashicorp/go-tfe v1.58.0
2024-09-09T14:47:32.741+0900 [DEBUG] using github.com/hashicorp/hcl/v2 v2.20.0
2024-09-09T14:47:32.741+0900 [DEBUG] using github.com/hashicorp/terraform-svchost v0.1.1
2024-09-09T14:47:32.741+0900 [DEBUG] using github.com/zclconf/go-cty v1.14.4
2024-09-09T14:47:32.741+0900 [INFO]  Go runtime version: go1.22.5
2024-09-09T14:47:32.741+0900 [INFO]  CLI args: []string{"C:\\Users\\soldesk\\Desktop\\terraform_1.9.5_windows_amd64\\terraform.exe", "init"}
2024-09-09T14:47:32.747+0900 [DEBUG] Attempting to open CLI config file: C:\Users\soldesk\AppData\Roaming\terraform.rc
2024-09-09T14:47:32.747+0900 [DEBUG] File doesn't exist, but doesn't need to. Ignoring.
2024-09-09T14:47:32.748+0900 [DEBUG] ignoring non-existing provider search directory terraform.d/plugins
2024-09-09T14:47:32.748+0900 [DEBUG] ignoring non-existing provider search directory C:\Users\soldesk\AppData\Roaming\terraform.d\plugins
2024-09-09T14:47:32.749+0900 [DEBUG] ignoring non-existing provider search directory C:\Users\soldesk\AppData\Roaming\HashiCorp\Terraform\plugins
2024-09-09T14:47:32.749+0900 [INFO]  CLI command args: []string{"init"}
2024-09-09T14:47:32.753+0900 [DEBUG] checking for provisioner in "."
2024-09-09T14:47:32.753+0900 [DEBUG] checking for provisioner in "C:\\Users\\soldesk\\Desktop\\terraform_1.9.5_windows_amd64"
2024-09-09T14:47:32.755+0900 [DEBUG] Module installer: begin nat
2024-09-09T14:47:32.755+0900 [DEBUG] Module installer: nat installed at
2024-09-09T14:47:32.755+0900 [DEBUG] Module installer: begin security_group
2024-09-09T14:47:32.755+0900 [DEBUG] Module installer: security_group installed at
2024-09-09T14:47:32.755+0900 [DEBUG] Module installer: begin subnets
2024-09-09T14:47:32.755+0900 [DEBUG] Module installer: subnets installed at
2024-09-09T14:47:32.755+0900 [DEBUG] Module installer: begin vpc
2024-09-09T14:47:32.756+0900 [DEBUG] Module installer: vpc installed at
2024-09-09T14:47:53.103+0900 [INFO]  Terraform version: 1.9.5
2024-09-09T14:47:53.168+0900 [DEBUG] using github.com/hashicorp/go-tfe v1.58.0
2024-09-09T14:47:53.168+0900 [DEBUG] using github.com/hashicorp/hcl/v2 v2.20.0
2024-09-09T14:47:53.168+0900 [DEBUG] using github.com/hashicorp/terraform-svchost v0.1.1
2024-09-09T14:47:53.168+0900 [DEBUG] using github.com/zclconf/go-cty v1.14.4
2024-09-09T14:47:53.168+0900 [INFO]  Go runtime version: go1.22.5
2024-09-09T14:47:53.168+0900 [INFO]  CLI args: []string{"C:\\Users\\soldesk\\Desktop\\terraform_1.9.5_windows_amd64\\terraform.exe", "init"}
2024-09-09T14:47:53.173+0900 [DEBUG] Attempting to open CLI config file: C:\Users\soldesk\AppData\Roaming\terraform.rc
2024-09-09T14:47:53.173+0900 [DEBUG] File doesn't exist, but doesn't need to. Ignoring.
2024-09-09T14:47:53.174+0900 [DEBUG] ignoring non-existing provider search directory terraform.d/plugins
2024-09-09T14:47:53.174+0900 [DEBUG] ignoring non-existing provider search directory C:\Users\soldesk\AppData\Roaming\terraform.d\plugins
2024-09-09T14:47:53.175+0900 [DEBUG] ignoring non-existing provider search directory C:\Users\soldesk\AppData\Roaming\HashiCorp\Terraform\plugins
2024-09-09T14:47:53.176+0900 [INFO]  CLI command args: []string{"init"}
2024-09-09T14:47:53.186+0900 [DEBUG] checking for provisioner in "."
2024-09-09T14:47:53.186+0900 [DEBUG] checking for provisioner in "C:\\Users\\soldesk\\Desktop\\terraform_1.9.5_windows_amd64"
2024-09-09T14:47:53.188+0900 [DEBUG] Module installer: begin nat
2024-09-09T14:47:53.189+0900 [DEBUG] Module installer: nat installed at nat
2024-09-09T14:47:53.190+0900 [DEBUG] Module installer: begin security_group
2024-09-09T14:47:53.191+0900 [DEBUG] Module installer: security_group installed at security_groups
2024-09-09T14:47:53.191+0900 [DEBUG] Module installer: begin subnets
2024-09-09T14:47:53.193+0900 [DEBUG] Module installer: subnets installed at subnets
2024-09-09T14:47:53.194+0900 [DEBUG] Module installer: begin vpc
2024-09-09T14:47:53.199+0900 [DEBUG] Module installer: vpc installed at vpc
2024-09-09T14:47:53.210+0900 [DEBUG] Service discovery for registry.terraform.io at https://registry.terraform.io/.well-known/terraform.json
2024-09-09T14:47:53.357+0900 [DEBUG] GET https://registry.terraform.io/v1/providers/hashicorp/aws/versions
2024-09-09T14:47:53.379+0900 [DEBUG] GET https://registry.terraform.io/v1/providers/hashicorp/aws/5.66.0/download/windows/amd64
2024-09-09T14:47:53.396+0900 [DEBUG] GET https://releases.hashicorp.com/terraform-provider-aws/5.66.0/terraform-provider-aws_5.66.0_SHA256SUMS
2024-09-09T14:47:53.533+0900 [DEBUG] GET https://releases.hashicorp.com/terraform-provider-aws/5.66.0/terraform-provider-aws_5.66.0_SHA256SUMS.72D7468F.sig
2024-09-09T14:47:57.023+0900 [DEBUG] Provider signed by 34365D9472D7468F HashiCorp Security (hashicorp.com/security) <security@hashicorp.com>
2024-09-09T14:48:16.467+0900 [INFO]  Terraform version: 1.9.5
2024-09-09T14:48:16.532+0900 [DEBUG] using github.com/hashicorp/go-tfe v1.58.0
2024-09-09T14:48:16.532+0900 [DEBUG] using github.com/hashicorp/hcl/v2 v2.20.0
2024-09-09T14:48:16.532+0900 [DEBUG] using github.com/hashicorp/terraform-svchost v0.1.1
2024-09-09T14:48:16.532+0900 [DEBUG] using github.com/zclconf/go-cty v1.14.4
2024-09-09T14:48:16.532+0900 [INFO]  Go runtime version: go1.22.5
2024-09-09T14:48:16.532+0900 [INFO]  CLI args: []string{"C:\\Users\\soldesk\\Desktop\\terraform_1.9.5_windows_amd64\\terraform.exe", "plan"}
2024-09-09T14:48:16.537+0900 [DEBUG] Attempting to open CLI config file: C:\Users\soldesk\AppData\Roaming\terraform.rc
2024-09-09T14:48:16.538+0900 [DEBUG] File doesn't exist, but doesn't need to. Ignoring.
2024-09-09T14:48:16.538+0900 [DEBUG] ignoring non-existing provider search directory terraform.d/plugins
2024-09-09T14:48:16.538+0900 [DEBUG] ignoring non-existing provider search directory C:\Users\soldesk\AppData\Roaming\terraform.d\plugins
2024-09-09T14:48:16.539+0900 [DEBUG] ignoring non-existing provider search directory C:\Users\soldesk\AppData\Roaming\HashiCorp\Terraform\plugins
2024-09-09T14:48:16.540+0900 [INFO]  CLI command args: []string{"plan"}
2024-09-09T14:48:19.549+0900 [DEBUG] checking for provisioner in "."
2024-09-09T14:48:19.549+0900 [DEBUG] checking for provisioner in "C:\\Users\\soldesk\\Desktop\\terraform_1.9.5_windows_amd64"
2024-09-09T14:48:19.551+0900 [INFO]  backend/local: starting Plan operation
2024-09-09T14:48:19.567+0900 [DEBUG] created provider logger: level=debug
2024-09-09T14:48:19.567+0900 [INFO]  provider: configuring client automatic mTLS
2024-09-09T14:48:19.582+0900 [DEBUG] provider: starting plugin: path=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe args=[".terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe"]
2024-09-09T14:48:19.598+0900 [DEBUG] provider: plugin started: path=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe pid=10892
2024-09-09T14:48:19.598+0900 [DEBUG] provider: waiting for RPC address: plugin=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe
2024-09-09T14:48:19.929+0900 [INFO]  provider.terraform-provider-aws_v5.66.0_x5.exe: configuring server automatic mTLS: timestamp="2024-09-09T14:48:19.847+0900"
2024-09-09T14:48:19.945+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2024-09-09T14:48:19.945+0900"
2024-09-09T14:48:19.946+0900 [DEBUG] provider: using plugin: version=5
2024-09-09T14:48:21.508+0900 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2024-09-09T14:48:21.528+0900 [INFO]  provider: plugin process exited: plugin=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe id=10892
2024-09-09T14:48:21.528+0900 [DEBUG] provider: plugin exited
2024-09-09T14:48:21.528+0900 [DEBUG] Building and walking validate graph
2024-09-09T14:48:21.529+0900 [DEBUG] ProviderTransformer: "module.subnets.aws_subnet.public" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:48:21.530+0900 [DEBUG] ProviderTransformer: "module.subnets.aws_subnet.private" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:48:21.530+0900 [DEBUG] ProviderTransformer: "module.nat.aws_nat_gateway.nat" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:48:21.530+0900 [DEBUG] ProviderTransformer: "module.security_group.aws_security_group.public_sg" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:48:21.530+0900 [DEBUG] ProviderTransformer: "module.vpc.aws_vpc.main" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:48:21.530+0900 [DEBUG] ProviderTransformer: "module.nat.aws_eip.nat" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:48:21.530+0900 [DEBUG] ProviderTransformer: "module.nat.aws_route_table_association.private_subnets" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:48:21.530+0900 [DEBUG] ProviderTransformer: "module.security_group.aws_security_group.private_sg" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:48:21.530+0900 [DEBUG] ProviderTransformer: "module.nat.aws_route_table.private" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.nat.var.private_subnet_ids (expand)" references: [module.subnets.output.private_subnet_ids (expand)]
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.nat.var.public_subnet_id (expand)" references: [module.subnets.output.public_subnet_ids (expand)]
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.vpc_name (expand)" references: []
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.security_group.output.public_sg_id (expand)" references: [module.security_group.aws_security_group.public_sg]
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.security_group.aws_security_group.public_sg" references: [module.security_group.var.vpc_name (expand) module.security_group.var.vpc_name (expand) module.security_group.var.vpc_id (expand) module.security_group.var.allowed_ssh_cidr (expand)]
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.vpc (close)" references: []
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.security_group (close)" references: []
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.vpc_cidr (expand)" references: []
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.nat.var.vpc_name (expand)" references: []
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.subnets (expand)" references: []
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.vpc (expand)" references: []
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.nat (expand)" references: []
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.security_group (expand)" references: []
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "var.region" references: []
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.private" references: [module.subnets.var.private_subnets (expand) module.subnets.var.vpc_id (expand) module.subnets.var.vpc_name (expand) module.subnets.var.azs (expand) module.subnets.var.private_subnets (expand)]
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.nat.var.vpc_id (expand)" references: [module.vpc.output.vpc_id (expand)]
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.public_subnets (expand)" references: []
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.nat.output.nat_gateway_id (expand)" references: [module.nat.aws_nat_gateway.nat]
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/hashicorp/aws\"]" references: []
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.subnets (close)" references: []
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.public" references: [module.subnets.var.public_subnets (expand) module.subnets.var.vpc_name (expand) module.subnets.var.azs (expand) module.subnets.var.public_subnets (expand) module.subnets.var.vpc_id (expand)]
2024-09-09T14:48:21.531+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_route_table_association.private_subnets" references: [module.nat.var.private_subnet_ids (expand) module.nat.aws_route_table.private module.nat.var.private_subnet_ids (expand)]
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.allowed_ssh_cidr (expand)" references: []
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.vpc.output.vpc_id (expand)" references: [module.vpc.aws_vpc.main]
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "output.vpc_id (expand)" references: []
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_eip.nat" references: []
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "var.vpc_cidr" references: []
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.vpc_id (expand)" references: [module.vpc.output.vpc_id (expand)]
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.private_subnets (expand)" references: []
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.subnets.output.public_subnet_ids (expand)" references: [module.subnets.aws_subnet.public]
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.subnets.output.private_subnet_ids (expand)" references: [module.subnets.aws_subnet.private]
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.security_group.aws_security_group.private_sg" references: [module.security_group.var.vpc_name (expand) module.security_group.var.vpc_id (expand) module.security_group.var.vpc_name (expand) module.security_group.var.vpc_cidr (expand)]
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.nat.var.nat_name (expand)" references: []
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.vpc_id (expand)" references: [module.vpc.output.vpc_id (expand)]
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.vpc.var.vpc_name (expand)" references: []
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_route_table.private" references: [module.nat.var.vpc_name (expand) module.nat.var.vpc_id (expand) module.nat.aws_nat_gateway.nat]
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.vpc.aws_vpc.main" references: [module.vpc.var.vpc_cidr (expand) module.vpc.var.vpc_name (expand)]
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "var.allowed_ssh_cidr" references: []
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.azs (expand)" references: []
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.vpc_name (expand)" references: []
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.vpc.var.vpc_cidr (expand)" references: []
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.security_group.output.private_sg_id (expand)" references: [module.security_group.aws_security_group.private_sg]
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.nat (close)" references: []
2024-09-09T14:48:21.532+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_nat_gateway.nat" references: [module.nat.aws_eip.nat module.nat.var.public_subnet_id (expand) module.nat.var.nat_name (expand)]
2024-09-09T14:48:21.535+0900 [DEBUG] Starting graph walk: walkValidate
2024-09-09T14:48:21.535+0900 [DEBUG] created provider logger: level=debug
2024-09-09T14:48:21.535+0900 [INFO]  provider: configuring client automatic mTLS
2024-09-09T14:48:21.536+0900 [ERROR] vertex "output.vpc_id" error: Reference to undeclared resource
2024-09-09T14:48:21.536+0900 [ERROR] vertex "output.vpc_id (expand)" error: Reference to undeclared resource
2024-09-09T14:48:21.542+0900 [DEBUG] provider: starting plugin: path=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe args=[".terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe"]
2024-09-09T14:48:21.555+0900 [DEBUG] provider: plugin started: path=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe pid=4236
2024-09-09T14:48:21.555+0900 [DEBUG] provider: waiting for RPC address: plugin=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe
2024-09-09T14:48:21.872+0900 [INFO]  provider.terraform-provider-aws_v5.66.0_x5.exe: configuring server automatic mTLS: timestamp="2024-09-09T14:48:21.793+0900"
2024-09-09T14:48:21.886+0900 [DEBUG] provider: using plugin: version=5
2024-09-09T14:48:21.886+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2024-09-09T14:48:21.886+0900"
2024-09-09T14:48:22.063+0900 [WARN]  provider.terraform-provider-aws_v5.66.0_x5.exe: Response contains warning diagnostic: @module=sdk.proto tf_proto_version=5.6 tf_provider_addr=registry.terraform.io/hashicorp/aws @caller=github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov5/internal/diag/diagnostics.go:60 diagnostic_detail="use domain attribute instead" diagnostic_summary="Argument is deprecated" tf_rpc=ValidateResourceTypeConfig diagnostic_attribute="AttributeName(\"vpc\")" tf_resource_type=aws_eip tf_req_id=1f6c6f63-b3e4-752c-dcc8-5ed04bda0721 diagnostic_severity=WARNING timestamp="2024-09-09T14:48:22.063+0900"
2024-09-09T14:48:22.072+0900 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2024-09-09T14:48:22.089+0900 [INFO]  provider: plugin process exited: plugin=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe id=4236
2024-09-09T14:48:22.089+0900 [DEBUG] provider: plugin exited
2024-09-09T14:50:58.825+0900 [INFO]  Terraform version: 1.9.5
2024-09-09T14:50:58.891+0900 [DEBUG] using github.com/hashicorp/go-tfe v1.58.0
2024-09-09T14:50:58.891+0900 [DEBUG] using github.com/hashicorp/hcl/v2 v2.20.0
2024-09-09T14:50:58.891+0900 [DEBUG] using github.com/hashicorp/terraform-svchost v0.1.1
2024-09-09T14:50:58.891+0900 [DEBUG] using github.com/zclconf/go-cty v1.14.4
2024-09-09T14:50:58.891+0900 [INFO]  Go runtime version: go1.22.5
2024-09-09T14:50:58.891+0900 [INFO]  CLI args: []string{"C:\\Users\\soldesk\\Desktop\\terraform_1.9.5_windows_amd64\\terraform.exe", "plan"}
2024-09-09T14:50:58.896+0900 [DEBUG] Attempting to open CLI config file: C:\Users\soldesk\AppData\Roaming\terraform.rc
2024-09-09T14:50:58.896+0900 [DEBUG] File doesn't exist, but doesn't need to. Ignoring.
2024-09-09T14:50:58.897+0900 [DEBUG] ignoring non-existing provider search directory terraform.d/plugins
2024-09-09T14:50:58.897+0900 [DEBUG] ignoring non-existing provider search directory C:\Users\soldesk\AppData\Roaming\terraform.d\plugins
2024-09-09T14:50:58.898+0900 [DEBUG] ignoring non-existing provider search directory C:\Users\soldesk\AppData\Roaming\HashiCorp\Terraform\plugins
2024-09-09T14:50:58.898+0900 [INFO]  CLI command args: []string{"plan"}
2024-09-09T14:51:01.786+0900 [DEBUG] checking for provisioner in "."
2024-09-09T14:51:01.787+0900 [DEBUG] checking for provisioner in "C:\\Users\\soldesk\\Desktop\\terraform_1.9.5_windows_amd64"
2024-09-09T14:51:01.788+0900 [INFO]  backend/local: starting Plan operation
2024-09-09T14:51:01.803+0900 [DEBUG] backend/local: will prompt for input of unset required variables [vpc_cidr vpc_name]
2024-09-09T14:51:01.805+0900 [DEBUG] command: asking for input: "var.vpc_cidr"
2024-09-09T14:51:06.500+0900 [DEBUG] command: asking for input: "var.vpc_name"
2024-09-09T14:51:12.851+0900 [ERROR] UIInput scan err: EOF
2024-09-09T14:51:12.851+0900 [WARN]  backend/local: Failed to request user input for variable "vpc_name": EOF
2024-09-09T14:51:15.828+0900 [INFO]  Terraform version: 1.9.5
2024-09-09T14:51:15.896+0900 [DEBUG] using github.com/hashicorp/go-tfe v1.58.0
2024-09-09T14:51:15.896+0900 [DEBUG] using github.com/hashicorp/hcl/v2 v2.20.0
2024-09-09T14:51:15.896+0900 [DEBUG] using github.com/hashicorp/terraform-svchost v0.1.1
2024-09-09T14:51:15.896+0900 [DEBUG] using github.com/zclconf/go-cty v1.14.4
2024-09-09T14:51:15.896+0900 [INFO]  Go runtime version: go1.22.5
2024-09-09T14:51:15.896+0900 [INFO]  CLI args: []string{"C:\\Users\\soldesk\\Desktop\\terraform_1.9.5_windows_amd64\\terraform.exe", "plan"}
2024-09-09T14:51:15.902+0900 [DEBUG] Attempting to open CLI config file: C:\Users\soldesk\AppData\Roaming\terraform.rc
2024-09-09T14:51:15.902+0900 [DEBUG] File doesn't exist, but doesn't need to. Ignoring.
2024-09-09T14:51:15.902+0900 [DEBUG] ignoring non-existing provider search directory terraform.d/plugins
2024-09-09T14:51:15.902+0900 [DEBUG] ignoring non-existing provider search directory C:\Users\soldesk\AppData\Roaming\terraform.d\plugins
2024-09-09T14:51:15.904+0900 [DEBUG] ignoring non-existing provider search directory C:\Users\soldesk\AppData\Roaming\HashiCorp\Terraform\plugins
2024-09-09T14:51:15.904+0900 [INFO]  CLI command args: []string{"plan"}
2024-09-09T14:51:18.752+0900 [DEBUG] checking for provisioner in "."
2024-09-09T14:51:18.752+0900 [DEBUG] checking for provisioner in "C:\\Users\\soldesk\\Desktop\\terraform_1.9.5_windows_amd64"
2024-09-09T14:51:18.753+0900 [INFO]  backend/local: starting Plan operation
2024-09-09T14:51:18.768+0900 [DEBUG] backend/local: will prompt for input of unset required variables [vpc_cidr vpc_name]
2024-09-09T14:51:18.768+0900 [DEBUG] command: asking for input: "var.vpc_cidr"
2024-09-09T14:51:29.147+0900 [DEBUG] command: asking for input: "var.vpc_name"
2024-09-09T14:51:35.875+0900 [DEBUG] created provider logger: level=debug
2024-09-09T14:51:35.875+0900 [INFO]  provider: configuring client automatic mTLS
2024-09-09T14:51:35.893+0900 [DEBUG] provider: starting plugin: path=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe args=[".terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe"]
2024-09-09T14:51:35.907+0900 [DEBUG] provider: plugin started: path=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe pid=14292
2024-09-09T14:51:35.907+0900 [DEBUG] provider: waiting for RPC address: plugin=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe
2024-09-09T14:51:36.210+0900 [INFO]  provider.terraform-provider-aws_v5.66.0_x5.exe: configuring server automatic mTLS: timestamp="2024-09-09T14:51:36.136+0900"
2024-09-09T14:51:36.224+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2024-09-09T14:51:36.223+0900"
2024-09-09T14:51:36.224+0900 [DEBUG] provider: using plugin: version=5
2024-09-09T14:51:37.388+0900 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2024-09-09T14:51:37.408+0900 [INFO]  provider: plugin process exited: plugin=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe id=14292
2024-09-09T14:51:37.408+0900 [DEBUG] provider: plugin exited
2024-09-09T14:51:37.408+0900 [DEBUG] Building and walking validate graph
2024-09-09T14:57:09.055+0900 [INFO]  Terraform version: 1.9.5
2024-09-09T14:57:09.121+0900 [DEBUG] using github.com/hashicorp/go-tfe v1.58.0
2024-09-09T14:57:09.121+0900 [DEBUG] using github.com/hashicorp/hcl/v2 v2.20.0
2024-09-09T14:57:09.121+0900 [DEBUG] using github.com/hashicorp/terraform-svchost v0.1.1
2024-09-09T14:57:09.121+0900 [DEBUG] using github.com/zclconf/go-cty v1.14.4
2024-09-09T14:57:09.121+0900 [INFO]  Go runtime version: go1.22.5
2024-09-09T14:57:09.121+0900 [INFO]  CLI args: []string{"C:\\Users\\soldesk\\Desktop\\terraform_1.9.5_windows_amd64\\terraform.exe", "plan"}
2024-09-09T14:57:09.125+0900 [DEBUG] Attempting to open CLI config file: C:\Users\soldesk\AppData\Roaming\terraform.rc
2024-09-09T14:57:09.126+0900 [DEBUG] File doesn't exist, but doesn't need to. Ignoring.
2024-09-09T14:57:09.127+0900 [DEBUG] ignoring non-existing provider search directory terraform.d/plugins
2024-09-09T14:57:09.127+0900 [DEBUG] ignoring non-existing provider search directory C:\Users\soldesk\AppData\Roaming\terraform.d\plugins
2024-09-09T14:57:09.128+0900 [DEBUG] ignoring non-existing provider search directory C:\Users\soldesk\AppData\Roaming\HashiCorp\Terraform\plugins
2024-09-09T14:57:09.128+0900 [INFO]  CLI command args: []string{"plan"}
2024-09-09T14:57:12.060+0900 [DEBUG] checking for provisioner in "."
2024-09-09T14:57:12.060+0900 [DEBUG] checking for provisioner in "C:\\Users\\soldesk\\Desktop\\terraform_1.9.5_windows_amd64"
2024-09-09T14:57:12.062+0900 [INFO]  backend/local: starting Plan operation
2024-09-09T14:57:12.081+0900 [DEBUG] backend/local: will prompt for input of unset required variables [vpc_cidr vpc_name]
2024-09-09T14:57:12.081+0900 [DEBUG] command: asking for input: "var.vpc_cidr"
2024-09-09T14:57:24.480+0900 [DEBUG] command: asking for input: "var.vpc_name"
2024-09-09T14:57:24.824+0900 [DEBUG] created provider logger: level=debug
2024-09-09T14:57:24.824+0900 [INFO]  provider: configuring client automatic mTLS
2024-09-09T14:57:24.839+0900 [DEBUG] provider: starting plugin: path=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe args=[".terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe"]
2024-09-09T14:57:24.856+0900 [DEBUG] provider: plugin started: path=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe pid=3092
2024-09-09T14:57:24.856+0900 [DEBUG] provider: waiting for RPC address: plugin=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe
2024-09-09T14:57:25.160+0900 [INFO]  provider.terraform-provider-aws_v5.66.0_x5.exe: configuring server automatic mTLS: timestamp="2024-09-09T14:57:25.087+0900"
2024-09-09T14:57:25.174+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2024-09-09T14:57:25.173+0900"
2024-09-09T14:57:25.174+0900 [DEBUG] provider: using plugin: version=5
2024-09-09T14:57:26.380+0900 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2024-09-09T14:57:26.399+0900 [INFO]  provider: plugin process exited: plugin=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe id=3092
2024-09-09T14:57:26.399+0900 [DEBUG] provider: plugin exited
2024-09-09T14:57:26.400+0900 [DEBUG] Building and walking validate graph
2024-09-09T14:57:26.400+0900 [DEBUG] ProviderTransformer: "module.security_group.aws_security_group.public_sg" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.401+0900 [DEBUG] ProviderTransformer: "module.nat.aws_nat_gateway.nat" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.401+0900 [DEBUG] ProviderTransformer: "module.nat.aws_route_table_association.private_subnets" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.401+0900 [DEBUG] ProviderTransformer: "module.vpc.aws_vpc.main" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.401+0900 [DEBUG] ProviderTransformer: "module.nat.aws_eip.nat" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.401+0900 [DEBUG] ProviderTransformer: "module.security_group.aws_security_group.private_sg" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.401+0900 [DEBUG] ProviderTransformer: "module.subnets.aws_subnet.public" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.401+0900 [DEBUG] ProviderTransformer: "module.nat.aws_route_table.private" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.401+0900 [DEBUG] ProviderTransformer: "module.subnets.aws_subnet.private" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_nat_gateway.nat" references: [module.nat.var.nat_name (expand) module.nat.aws_eip.nat module.nat.var.public_subnet_id (expand)]
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_route_table.private" references: [module.nat.var.vpc_name (expand) module.nat.var.vpc_id (expand) module.nat.aws_nat_gateway.nat]
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.nat.var.public_subnet_id (expand)" references: [module.subnets.output.public_subnet_ids (expand)]
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.allowed_ssh_cidr (expand)" references: []
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.vpc_name (expand)" references: []
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.subnets.output.public_subnet_ids (expand)" references: [module.subnets.aws_subnet.public]
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.nat.var.nat_name (expand)" references: []
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.vpc_id (expand)" references: [module.vpc.output.vpc_id (expand)]
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.vpc.output.vpc_id (expand)" references: [module.vpc.aws_vpc.main]
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_route_table_association.private_subnets" references: [module.nat.var.private_subnet_ids (expand) module.nat.aws_route_table.private module.nat.var.private_subnet_ids (expand)]
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.vpc_cidr (expand)" references: []
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.vpc_id (expand)" references: [module.vpc.output.vpc_id (expand)]
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.security_group.output.public_sg_id (expand)" references: [module.security_group.aws_security_group.public_sg]
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.security_group.aws_security_group.public_sg" references: [module.security_group.var.vpc_name (expand) module.security_group.var.vpc_name (expand) module.security_group.var.vpc_id (expand) module.security_group.var.allowed_ssh_cidr (expand)]
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.private" references: [module.subnets.var.private_subnets (expand) module.subnets.var.vpc_name (expand) module.subnets.var.vpc_id (expand) module.subnets.var.azs (expand) module.subnets.var.private_subnets (expand)]
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.public_subnets (expand)" references: []
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.subnets (close)" references: []
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "var.vpc_name" references: []
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "var.allowed_ssh_cidr" references: []
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.nat.var.vpc_id (expand)" references: [module.vpc.output.vpc_id (expand)]
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.nat.var.vpc_name (expand)" references: []
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.vpc.var.vpc_cidr (expand)" references: []
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.security_group (expand)" references: []
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.vpc (expand)" references: []
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.vpc.aws_vpc.main" references: [module.vpc.var.vpc_name (expand) module.vpc.var.vpc_cidr (expand)]
2024-09-09T14:57:26.402+0900 [DEBUG] ReferenceTransformer: "module.nat.var.private_subnet_ids (expand)" references: [module.subnets.output.private_subnet_ids (expand)]
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.private_subnets (expand)" references: []
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.vpc.var.vpc_name (expand)" references: []
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.security_group.output.private_sg_id (expand)" references: [module.security_group.aws_security_group.private_sg]
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.nat (close)" references: []
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.security_group (close)" references: []
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.vpc (close)" references: []
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_eip.nat" references: []
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "var.region" references: []
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "var.vpc_cidr" references: []
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.vpc_name (expand)" references: []
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.azs (expand)" references: []
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.subnets.output.private_subnet_ids (expand)" references: [module.subnets.aws_subnet.private]
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.nat (expand)" references: []
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.security_group.aws_security_group.private_sg" references: [module.security_group.var.vpc_name (expand) module.security_group.var.vpc_id (expand) module.security_group.var.vpc_name (expand) module.security_group.var.vpc_cidr (expand)]
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.public" references: [module.subnets.var.public_subnets (expand) module.subnets.var.vpc_name (expand) module.subnets.var.public_subnets (expand) module.subnets.var.vpc_id (expand) module.subnets.var.azs (expand)]
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.nat.output.nat_gateway_id (expand)" references: [module.nat.aws_nat_gateway.nat]
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/hashicorp/aws\"]" references: []
2024-09-09T14:57:26.403+0900 [DEBUG] ReferenceTransformer: "module.subnets (expand)" references: []
2024-09-09T14:57:26.405+0900 [DEBUG] Starting graph walk: walkValidate
2024-09-09T14:57:26.406+0900 [DEBUG] created provider logger: level=debug
2024-09-09T14:57:26.406+0900 [INFO]  provider: configuring client automatic mTLS
2024-09-09T14:57:26.412+0900 [DEBUG] provider: starting plugin: path=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe args=[".terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe"]
2024-09-09T14:57:26.423+0900 [DEBUG] provider: plugin started: path=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe pid=2400
2024-09-09T14:57:26.423+0900 [DEBUG] provider: waiting for RPC address: plugin=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe
2024-09-09T14:57:26.720+0900 [INFO]  provider.terraform-provider-aws_v5.66.0_x5.exe: configuring server automatic mTLS: timestamp="2024-09-09T14:57:26.642+0900"
2024-09-09T14:57:26.734+0900 [DEBUG] provider: using plugin: version=5
2024-09-09T14:57:26.734+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2024-09-09T14:57:26.734+0900"
2024-09-09T14:57:26.900+0900 [WARN]  provider.terraform-provider-aws_v5.66.0_x5.exe: Response contains warning diagnostic: diagnostic_detail="use domain attribute instead" diagnostic_summary="Argument is deprecated" @caller=github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov5/internal/diag/diagnostics.go:60 @module=sdk.proto tf_rpc=ValidateResourceTypeConfig tf_req_id=583f182d-0306-f779-1a9a-874fd6a8ac7b tf_resource_type=aws_eip diagnostic_attribute="AttributeName(\"vpc\")" diagnostic_severity=WARNING tf_proto_version=5.6 tf_provider_addr=registry.terraform.io/hashicorp/aws timestamp="2024-09-09T14:57:26.900+0900"
2024-09-09T14:57:26.906+0900 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2024-09-09T14:57:26.923+0900 [INFO]  provider: plugin process exited: plugin=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe id=2400
2024-09-09T14:57:26.923+0900 [DEBUG] provider: plugin exited
2024-09-09T14:57:26.923+0900 [INFO]  backend/local: plan calling Plan
2024-09-09T14:57:26.927+0900 [DEBUG] Building and walking plan graph for NormalMode
2024-09-09T14:57:26.931+0900 [DEBUG] ProviderTransformer: "module.nat.aws_eip.nat (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.931+0900 [DEBUG] ProviderTransformer: "module.nat.aws_nat_gateway.nat (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.931+0900 [DEBUG] ProviderTransformer: "module.security_group.aws_security_group.private_sg (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.931+0900 [DEBUG] ProviderTransformer: "module.security_group.aws_security_group.public_sg (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.931+0900 [DEBUG] ProviderTransformer: "module.vpc.aws_vpc.main (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.931+0900 [DEBUG] ProviderTransformer: "module.nat.aws_route_table_association.private_subnets (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.931+0900 [DEBUG] ProviderTransformer: "module.subnets.aws_subnet.private (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.931+0900 [DEBUG] ProviderTransformer: "module.subnets.aws_subnet.public (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.931+0900 [DEBUG] ProviderTransformer: "module.nat.aws_route_table.private (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:26.932+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_eip.nat (expand)" references: []
2024-09-09T14:57:26.932+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.allowed_ssh_cidr (expand)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.subnets (expand)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_route_table.private (expand)" references: [module.nat.var.vpc_id (expand) module.nat.var.vpc_name (expand) module.nat.aws_nat_gateway.nat (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "var.allowed_ssh_cidr" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.vpc_cidr (expand)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.vpc.var.vpc_name (expand)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.security_group.output.private_sg_id (expand)" references: [module.security_group.aws_security_group.private_sg (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.security_group (expand)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.nat.var.vpc_name (expand)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.private_subnets (expand)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.vpc.var.vpc_cidr (expand)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.security_group.output.public_sg_id (expand)" references: [module.security_group.aws_security_group.public_sg (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "var.vpc_name" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.nat.var.private_subnet_ids (expand)" references: [module.subnets.output.private_subnet_ids (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.azs (expand)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.security_group (close)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.nat (expand)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.vpc (close)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.public (expand)" references: [module.subnets.var.public_subnets (expand) module.subnets.var.vpc_name (expand) module.subnets.var.public_subnets (expand) module.subnets.var.vpc_id (expand) module.subnets.var.azs (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "var.region" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "var.vpc_cidr" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.nat.var.public_subnet_id (expand)" references: [module.subnets.output.public_subnet_ids (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.subnets (close)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_nat_gateway.nat (expand)" references: [module.nat.var.nat_name (expand) module.nat.aws_eip.nat (expand) module.nat.var.public_subnet_id (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.security_group.aws_security_group.private_sg (expand)" references: [module.security_group.var.vpc_name (expand) module.security_group.var.vpc_name (expand) module.security_group.var.vpc_id (expand) module.security_group.var.vpc_cidr (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.vpc_name (expand)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.nat.output.nat_gateway_id (expand)" references: [module.nat.aws_nat_gateway.nat (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.subnets.output.public_subnet_ids (expand)" references: [module.subnets.aws_subnet.public (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.subnets.output.private_subnet_ids (expand)" references: [module.subnets.aws_subnet.private (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/hashicorp/aws\"]" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.nat (close)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.security_group.aws_security_group.public_sg (expand)" references: [module.security_group.var.vpc_name (expand) module.security_group.var.vpc_id (expand) module.security_group.var.vpc_name (expand) module.security_group.var.allowed_ssh_cidr (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.vpc.aws_vpc.main (expand)" references: [module.vpc.var.vpc_name (expand) module.vpc.var.vpc_cidr (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.vpc_id (expand)" references: [module.vpc.output.vpc_id (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.public_subnets (expand)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.vpc_name (expand)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.vpc_id (expand)" references: [module.vpc.output.vpc_id (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.vpc.output.vpc_id (expand)" references: [module.vpc.aws_vpc.main (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.vpc (expand)" references: []
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_route_table_association.private_subnets (expand)" references: [module.nat.var.private_subnet_ids (expand) module.nat.var.private_subnet_ids (expand) module.nat.aws_route_table.private (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.private (expand)" references: [module.subnets.var.private_subnets (expand) module.subnets.var.vpc_name (expand) module.subnets.var.vpc_id (expand) module.subnets.var.azs (expand) module.subnets.var.private_subnets (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.nat.var.vpc_id (expand)" references: [module.vpc.output.vpc_id (expand)]
2024-09-09T14:57:26.933+0900 [DEBUG] ReferenceTransformer: "module.nat.var.nat_name (expand)" references: []
2024-09-09T14:57:26.936+0900 [DEBUG] Starting graph walk: walkPlan
2024-09-09T14:57:26.937+0900 [DEBUG] created provider logger: level=debug
2024-09-09T14:57:26.937+0900 [INFO]  provider: configuring client automatic mTLS
2024-09-09T14:57:26.942+0900 [DEBUG] provider: starting plugin: path=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe args=[".terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe"]
2024-09-09T14:57:26.953+0900 [DEBUG] provider: plugin started: path=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe pid=3812
2024-09-09T14:57:26.953+0900 [DEBUG] provider: waiting for RPC address: plugin=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe
2024-09-09T14:57:27.242+0900 [INFO]  provider.terraform-provider-aws_v5.66.0_x5.exe: configuring server automatic mTLS: timestamp="2024-09-09T14:57:27.170+0900"
2024-09-09T14:57:27.256+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2024-09-09T14:57:27.256+0900"
2024-09-09T14:57:27.256+0900 [DEBUG] provider: using plugin: version=5
2024-09-09T14:57:27.422+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: Configuring Terraform AWS Provider: @module=aws tf_req_id=e096863f-e7a9-1ebc-d3b6-e72c0743bb35 @caller=github.com/hashicorp/terraform-provider-aws/internal/conns/config.go:147 tf_mux_provider="*schema.GRPCProviderServer" tf_provider_addr=registry.terraform.io/hashicorp/aws tf_rpc=ConfigureProvider timestamp="2024-09-09T14:57:27.422+0900"
2024-09-09T14:57:27.422+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: Resolving credentials provider: tf_mux_provider="*schema.GRPCProviderServer" tf_provider_addr=registry.terraform.io/hashicorp/aws tf_req_id=e096863f-e7a9-1ebc-d3b6-e72c0743bb35 tf_rpc=ConfigureProvider @caller=github.com/hashicorp/aws-sdk-go-base/v2@v2.0.0-beta.55/logging/tf_logger.go:47 @module=aws.aws-base timestamp="2024-09-09T14:57:27.422+0900"
2024-09-09T14:57:27.423+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: Loading configuration: tf_mux_provider="*schema.GRPCProviderServer" tf_rpc=ConfigureProvider @caller=github.com/hashicorp/aws-sdk-go-base/v2@v2.0.0-beta.55/logging/tf_logger.go:47 @module=aws.aws-base tf_provider_addr=registry.terraform.io/hashicorp/aws tf_req_id=e096863f-e7a9-1ebc-d3b6-e72c0743bb35 timestamp="2024-09-09T14:57:27.422+0900"
2024-09-09T14:57:27.436+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: Retrieving credentials: @module=aws.aws-base tf_provider_addr=registry.terraform.io/hashicorp/aws @caller=github.com/hashicorp/aws-sdk-go-base/v2@v2.0.0-beta.55/logging/tf_logger.go:47 tf_mux_provider="*schema.GRPCProviderServer" tf_req_id=e096863f-e7a9-1ebc-d3b6-e72c0743bb35 tf_rpc=ConfigureProvider timestamp="2024-09-09T14:57:27.436+0900"
2024-09-09T14:57:27.436+0900 [INFO]  provider.terraform-provider-aws_v5.66.0_x5.exe: Retrieved credentials: tf_rpc=ConfigureProvider tf_mux_provider="*schema.GRPCProviderServer" tf_provider_addr=registry.terraform.io/hashicorp/aws tf_req_id=e096863f-e7a9-1ebc-d3b6-e72c0743bb35 @caller=github.com/hashicorp/aws-sdk-go-base/v2@v2.0.0-beta.55/logging/tf_logger.go:39 @module=aws.aws-base tf_aws.credentials_source="SharedConfigCredentials: C:\Users\soldesk\.aws\credentials" timestamp="2024-09-09T14:57:27.436+0900"
2024-09-09T14:57:27.436+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: Loading configuration: @caller=github.com/hashicorp/aws-sdk-go-base/v2@v2.0.0-beta.55/logging/tf_logger.go:47 tf_mux_provider="*schema.GRPCProviderServer" tf_provider_addr=registry.terraform.io/hashicorp/aws @module=aws.aws-base tf_req_id=e096863f-e7a9-1ebc-d3b6-e72c0743bb35 tf_rpc=ConfigureProvider timestamp="2024-09-09T14:57:27.436+0900"
2024-09-09T14:57:27.437+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: Creating AWS SDK v1 session: tf_mux_provider="*schema.GRPCProviderServer" @module=aws tf_provider_addr=registry.terraform.io/hashicorp/aws tf_req_id=e096863f-e7a9-1ebc-d3b6-e72c0743bb35 tf_rpc=ConfigureProvider @caller=github.com/hashicorp/terraform-provider-aws/internal/conns/config.go:171 timestamp="2024-09-09T14:57:27.437+0900"
2024-09-09T14:57:27.438+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: Retrieving AWS account details: @module=aws tf_req_id=e096863f-e7a9-1ebc-d3b6-e72c0743bb35 tf_mux_provider="*schema.GRPCProviderServer" tf_provider_addr=registry.terraform.io/hashicorp/aws tf_rpc=ConfigureProvider @caller=github.com/hashicorp/terraform-provider-aws/internal/conns/config.go:186 timestamp="2024-09-09T14:57:27.438+0900"
2024-09-09T14:57:27.438+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: Retrieving caller identity from STS: @caller=github.com/hashicorp/aws-sdk-go-base/v2@v2.0.0-beta.55/logging/tf_logger.go:47 tf_mux_provider="*schema.GRPCProviderServer" tf_req_id=e096863f-e7a9-1ebc-d3b6-e72c0743bb35 tf_rpc=ConfigureProvider @module=aws.aws-base tf_provider_addr=registry.terraform.io/hashicorp/aws timestamp="2024-09-09T14:57:27.438+0900"
2024-09-09T14:57:27.439+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: HTTP Request Sent: http.request.header.authorization="AWS4-HMAC-SHA256 Credential=AKIA************ZXWW/20240909/ap-northeast-2/sts/aws4_request, SignedHeaders=amz-sdk-invocation-id;amz-sdk-request;content-length;content-type;host;x-amz-date, Signature=*****" rpc.method=GetCallerIdentity tf_req_id=e096863f-e7a9-1ebc-d3b6-e72c0743bb35 http.url=https://sts.ap-northeast-2.amazonaws.com/ tf_rpc=ConfigureProvider aws.region=ap-northeast-2
  http.request.body=
  | Action=GetCallerIdentity&Version=2011-06-15
   http.request.header.amz_sdk_request="attempt=1; max=25" http.request.header.content_type=application/x-www-form-urlencoded http.request.header.x_amz_date=20240909T055727Z http.request_content_length=43 http.user_agent="APN/1.0 HashiCorp/1.0 Terraform/1.9.5 (+https://www.terraform.io) terraform-provider-aws/5.66.0 (+https://registry.terraform.io/providers/hashicorp/aws) aws-sdk-go-v2/1.30.5 os/windows lang/go#1.23.0 md/GOOS#windows md/GOARCH#amd64 api/sts#1.30.7" @caller=github.com/hashicorp/aws-sdk-go-base/v2@v2.0.0-beta.55/logging/tf_logger.go:47 http.method=POST rpc.system=aws-api tf_mux_provider="*schema.GRPCProviderServer" tf_provider_addr=registry.terraform.io/hashicorp/aws net.peer.name=sts.ap-northeast-2.amazonaws.com rpc.service=STS tf_aws.sdk=aws-sdk-go-v2 tf_aws.signing_region="" @module=aws.aws-base http.request.header.amz_sdk_invocation_id=db6d2d3b-f9ca-4487-b795-26de3053d7d4 timestamp="2024-09-09T14:57:27.439+0900"
2024-09-09T14:57:27.599+0900 [DEBUG] provider.terraform-provider-aws_v5.66.0_x5.exe: HTTP Response Received: tf_aws.signing_region="" tf_provider_addr=registry.terraform.io/hashicorp/aws http.response.header.content_type=text/xml rpc.method=GetCallerIdentity http.response_content_length=403 rpc.service=STS rpc.system=aws-api tf_aws.sdk=aws-sdk-go-v2 @caller=github.com/hashicorp/aws-sdk-go-base/v2@v2.0.0-beta.55/logging/tf_logger.go:47 http.response.header.x_amzn_requestid=d5af4e1d-c1f1-4d95-8633-ea355475087a http.status_code=200 tf_req_id=e096863f-e7a9-1ebc-d3b6-e72c0743bb35 aws.region=ap-northeast-2 http.duration=159 http.response.header.date="Mon, 09 Sep 2024 05:57:27 GMT" tf_mux_provider="*schema.GRPCProviderServer" tf_rpc=ConfigureProvider @module=aws.aws-base
  http.response.body=
  | <GetCallerIdentityResponse xmlns="https://sts.amazonaws.com/doc/2011-06-15/">
  |   <GetCallerIdentityResult>
  |     <Arn>arn:aws:iam::590183788363:user/gmlwnd</Arn>
  |     <UserId>AIDA*************LV46</UserId>
  |     <Account>590183788363</Account>
  |   </GetCallerIdentityResult>
  |   <ResponseMetadata>
  |     <RequestId>d5af4e1d-c1f1-4d95-8633-ea355475087a</RequestId>
  |   </ResponseMetadata>
  | </GetCallerIdentityResponse>
   timestamp="2024-09-09T14:57:27.599+0900"
2024-09-09T14:57:27.599+0900 [INFO]  provider.terraform-provider-aws_v5.66.0_x5.exe: Retrieved caller identity from STS: @module=aws.aws-base tf_rpc=ConfigureProvider @caller=github.com/hashicorp/aws-sdk-go-base/v2@v2.0.0-beta.55/logging/tf_logger.go:39 tf_mux_provider="*schema.GRPCProviderServer" tf_provider_addr=registry.terraform.io/hashicorp/aws tf_req_id=e096863f-e7a9-1ebc-d3b6-e72c0743bb35 timestamp="2024-09-09T14:57:27.599+0900"
2024-09-09T14:57:27.605+0900 [DEBUG] Resource instance state not found for node "module.nat.aws_eip.nat", instance module.nat.aws_eip.nat
2024-09-09T14:57:27.633+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_eip.nat" references: []
2024-09-09T14:57:27.633+0900 [DEBUG] Resource instance state not found for node "module.vpc.aws_vpc.main", instance module.vpc.aws_vpc.main
2024-09-09T14:57:27.633+0900 [DEBUG] ReferenceTransformer: "module.vpc.aws_vpc.main" references: []
2024-09-09T14:57:27.640+0900 [DEBUG] refresh: module.vpc.aws_vpc.main: no state, so not refreshing
2024-09-09T14:57:27.640+0900 [DEBUG] refresh: module.nat.aws_eip.nat: no state, so not refreshing
2024-09-09T14:57:27.651+0900 [WARN]  provider.terraform-provider-aws_v5.66.0_x5.exe: Response contains warning diagnostic: @caller=github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov5/internal/diag/diagnostics.go:60 diagnostic_detail="use domain attribute instead" tf_resource_type=aws_eip tf_provider_addr=registry.terraform.io/hashicorp/aws tf_req_id=6b6698c6-f888-22f3-2f91-f4108fa611bd tf_rpc=ValidateResourceTypeConfig @module=sdk.proto diagnostic_summary="Argument is deprecated" tf_proto_version=5.6 diagnostic_attribute="AttributeName(\"vpc\")" diagnostic_severity=WARNING timestamp="2024-09-09T14:57:27.651+0900"
2024-09-09T14:57:27.658+0900 [WARN]  Provider "registry.terraform.io/hashicorp/aws" produced an invalid plan for module.vpc.aws_vpc.main, but we are tolerating it because it is using the legacy plugin SDK.
    The following problems may be the cause of any confusing errors from downstream operations:
      - .instance_tenancy: planned value cty.StringVal("default") for a non-computed attribute
2024-09-09T14:57:27.661+0900 [DEBUG] Resource instance state not found for node "module.security_group.aws_security_group.public_sg", instance module.security_group.aws_security_group.public_sg
2024-09-09T14:57:27.661+0900 [DEBUG] ReferenceTransformer: "module.security_group.aws_security_group.public_sg" references: []
2024-09-09T14:57:27.661+0900 [DEBUG] Resource instance state not found for node "module.security_group.aws_security_group.private_sg", instance module.security_group.aws_security_group.private_sg
2024-09-09T14:57:27.662+0900 [DEBUG] ReferenceTransformer: "module.security_group.aws_security_group.private_sg" references: []
2024-09-09T14:57:27.662+0900 [DEBUG] refresh: module.security_group.aws_security_group.private_sg: no state, so not refreshing
2024-09-09T14:57:27.663+0900 [DEBUG] refresh: module.security_group.aws_security_group.public_sg: no state, so not refreshing
2024-09-09T14:57:27.664+0900 [DEBUG] Resource instance state not found for node "module.subnets.aws_subnet.public[0]", instance module.subnets.aws_subnet.public[0]
2024-09-09T14:57:27.664+0900 [DEBUG] Resource instance state not found for node "module.subnets.aws_subnet.public[1]", instance module.subnets.aws_subnet.public[1]
2024-09-09T14:57:27.664+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.public[0]" references: []
2024-09-09T14:57:27.664+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.public[1]" references: []
2024-09-09T14:57:27.664+0900 [DEBUG] refresh: module.subnets.aws_subnet.public[0]: no state, so not refreshing
2024-09-09T14:57:27.664+0900 [DEBUG] Resource instance state not found for node "module.subnets.aws_subnet.private[0]", instance module.subnets.aws_subnet.private[0]
2024-09-09T14:57:27.664+0900 [DEBUG] Resource instance state not found for node "module.subnets.aws_subnet.private[1]", instance module.subnets.aws_subnet.private[1]
2024-09-09T14:57:27.664+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.private[0]" references: []
2024-09-09T14:57:27.664+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.private[1]" references: []
2024-09-09T14:57:27.664+0900 [DEBUG] refresh: module.subnets.aws_subnet.public[1]: no state, so not refreshing
2024-09-09T14:57:27.664+0900 [DEBUG] refresh: module.subnets.aws_subnet.private[1]: no state, so not refreshing
2024-09-09T14:57:27.665+0900 [DEBUG] refresh: module.subnets.aws_subnet.private[0]: no state, so not refreshing
2024-09-09T14:57:27.668+0900 [WARN]  Provider "registry.terraform.io/hashicorp/aws" produced an invalid plan for module.subnets.aws_subnet.public[1], but we are tolerating it because it is using the legacy plugin SDK.
    The following problems may be the cause of any confusing errors from downstream operations:
      - .ipv6_native: planned value cty.False for a non-computed attribute
      - .enable_resource_name_dns_a_record_on_launch: planned value cty.False for a non-computed attribute
      - .enable_resource_name_dns_aaaa_record_on_launch: planned value cty.False for a non-computed attribute
      - .assign_ipv6_address_on_creation: planned value cty.False for a non-computed attribute
      - .enable_dns64: planned value cty.False for a non-computed attribute
2024-09-09T14:57:27.669+0900 [WARN]  Provider "registry.terraform.io/hashicorp/aws" produced an invalid plan for module.subnets.aws_subnet.private[0], but we are tolerating it because it is using the legacy plugin SDK.
    The following problems may be the cause of any confusing errors from downstream operations:
      - .enable_resource_name_dns_a_record_on_launch: planned value cty.False for a non-computed attribute
      - .enable_resource_name_dns_aaaa_record_on_launch: planned value cty.False for a non-computed attribute
      - .enable_dns64: planned value cty.False for a non-computed attribute
      - .assign_ipv6_address_on_creation: planned value cty.False for a non-computed attribute
      - .map_public_ip_on_launch: planned value cty.False for a non-computed attribute
      - .ipv6_native: planned value cty.False for a non-computed attribute
2024-09-09T14:57:27.670+0900 [WARN]  Provider "registry.terraform.io/hashicorp/aws" produced an invalid plan for module.security_group.aws_security_group.private_sg, but we are tolerating it because it is using the legacy plugin SDK.
    The following problems may be the cause of any confusing errors from downstream operations:
      - .revoke_rules_on_delete: planned value cty.False for a non-computed attribute
      - .egress: planned value cty.SetVal([]cty.Value{cty.ObjectVal(map[string]cty.Value{"cidr_blocks":cty.ListVal([]cty.Value{cty.StringVal("0.0.0.0/0")}), "description":cty.StringVal(""), "from_port":cty.NumberIntVal(0), "ipv6_cidr_blocks":cty.ListValEmpty(cty.String), "prefix_list_ids":cty.ListValEmpty(cty.String), "protocol":cty.StringVal("-1"), "security_groups":cty.SetValEmpty(cty.String), "self":cty.False, "to_port":cty.NumberIntVal(0)})}) does not match config value cty.SetVal([]cty.Value{cty.ObjectVal(map[string]cty.Value{"cidr_blocks":cty.ListVal([]cty.Value{cty.StringVal("0.0.0.0/0")}), "description":cty.NullVal(cty.String), "from_port":cty.NumberIntVal(0), "ipv6_cidr_blocks":cty.NullVal(cty.List(cty.String)), "prefix_list_ids":cty.NullVal(cty.List(cty.String)), "protocol":cty.StringVal("-1"), "security_groups":cty.NullVal(cty.Set(cty.String)), "self":cty.NullVal(cty.Bool), "to_port":cty.NumberIntVal(0)})})
      - .ingress: planned value cty.SetVal([]cty.Value{cty.ObjectVal(map[string]cty.Value{"cidr_blocks":cty.ListVal([]cty.Value{cty.StringVal("10.0.0.0/16")}), "description":cty.StringVal(""), "from_port":cty.NumberIntVal(0), "ipv6_cidr_blocks":cty.ListValEmpty(cty.String), "prefix_list_ids":cty.ListValEmpty(cty.String), "protocol":cty.StringVal("tcp"), "security_groups":cty.SetValEmpty(cty.String), "self":cty.False, "to_port":cty.NumberIntVal(65535)})}) does not match config value cty.SetVal([]cty.Value{cty.ObjectVal(map[string]cty.Value{"cidr_blocks":cty.ListVal([]cty.Value{cty.StringVal("10.0.0.0/16")}), "description":cty.NullVal(cty.String), "from_port":cty.NumberIntVal(0), "ipv6_cidr_blocks":cty.NullVal(cty.List(cty.String)), "prefix_list_ids":cty.NullVal(cty.List(cty.String)), "protocol":cty.StringVal("tcp"), "security_groups":cty.NullVal(cty.Set(cty.String)), "self":cty.NullVal(cty.Bool), "to_port":cty.NumberIntVal(65535)})})
2024-09-09T14:57:27.671+0900 [WARN]  Provider "registry.terraform.io/hashicorp/aws" produced an invalid plan for module.security_group.aws_security_group.public_sg, but we are tolerating it because it is using the legacy plugin SDK.
    The following problems may be the cause of any confusing errors from downstream operations:
      - .ingress: planned value cty.SetVal([]cty.Value{cty.ObjectVal(map[string]cty.Value{"cidr_blocks":cty.ListVal([]cty.Value{cty.StringVal("0.0.0.0/0")}), "description":cty.StringVal(""), "from_port":cty.NumberIntVal(22), "ipv6_cidr_blocks":cty.ListValEmpty(cty.String), "prefix_list_ids":cty.ListValEmpty(cty.String), "protocol":cty.StringVal("tcp"), "security_groups":cty.SetValEmpty(cty.String), "self":cty.False, "to_port":cty.NumberIntVal(22)}), cty.ObjectVal(map[string]cty.Value{"cidr_blocks":cty.ListVal([]cty.Value{cty.StringVal("0.0.0.0/0")}), "description":cty.StringVal(""), "from_port":cty.NumberIntVal(443), "ipv6_cidr_blocks":cty.ListValEmpty(cty.String), "prefix_list_ids":cty.ListValEmpty(cty.String), "protocol":cty.StringVal("tcp"), "security_groups":cty.SetValEmpty(cty.String), "self":cty.False, "to_port":cty.NumberIntVal(443)}), cty.ObjectVal(map[string]cty.Value{"cidr_blocks":cty.ListVal([]cty.Value{cty.StringVal("0.0.0.0/0")}), "description":cty.StringVal(""), "from_port":cty.NumberIntVal(80), "ipv6_cidr_blocks":cty.ListValEmpty(cty.String), "prefix_list_ids":cty.ListValEmpty(cty.String), "protocol":cty.StringVal("tcp"), "security_groups":cty.SetValEmpty(cty.String), "self":cty.False, "to_port":cty.NumberIntVal(80)})}) does not match config value cty.SetVal([]cty.Value{cty.ObjectVal(map[string]cty.Value{"cidr_blocks":cty.ListVal([]cty.Value{cty.StringVal("0.0.0.0/0")}), "description":cty.NullVal(cty.String), "from_port":cty.NumberIntVal(22), "ipv6_cidr_blocks":cty.NullVal(cty.List(cty.String)), "prefix_list_ids":cty.NullVal(cty.List(cty.String)), "protocol":cty.StringVal("tcp"), "security_groups":cty.NullVal(cty.Set(cty.String)), "self":cty.NullVal(cty.Bool), "to_port":cty.NumberIntVal(22)}), cty.ObjectVal(map[string]cty.Value{"cidr_blocks":cty.ListVal([]cty.Value{cty.StringVal("0.0.0.0/0")}), "description":cty.NullVal(cty.String), "from_port":cty.NumberIntVal(443), "ipv6_cidr_blocks":cty.NullVal(cty.List(cty.String)), "prefix_list_ids":cty.NullVal(cty.List(cty.String)), "protocol":cty.StringVal("tcp"), "security_groups":cty.NullVal(cty.Set(cty.String)), "self":cty.NullVal(cty.Bool), "to_port":cty.NumberIntVal(443)}), cty.ObjectVal(map[string]cty.Value{"cidr_blocks":cty.ListVal([]cty.Value{cty.StringVal("0.0.0.0/0")}), "description":cty.NullVal(cty.String), "from_port":cty.NumberIntVal(80), "ipv6_cidr_blocks":cty.NullVal(cty.List(cty.String)), "prefix_list_ids":cty.NullVal(cty.List(cty.String)), "protocol":cty.StringVal("tcp"), "security_groups":cty.NullVal(cty.Set(cty.String)), "self":cty.NullVal(cty.Bool), "to_port":cty.NumberIntVal(80)})})
      - .revoke_rules_on_delete: planned value cty.False for a non-computed attribute
      - .egress: planned value cty.SetVal([]cty.Value{cty.ObjectVal(map[string]cty.Value{"cidr_blocks":cty.ListVal([]cty.Value{cty.StringVal("0.0.0.0/0")}), "description":cty.StringVal(""), "from_port":cty.NumberIntVal(0), "ipv6_cidr_blocks":cty.ListValEmpty(cty.String), "prefix_list_ids":cty.ListValEmpty(cty.String), "protocol":cty.StringVal("-1"), "security_groups":cty.SetValEmpty(cty.String), "self":cty.False, "to_port":cty.NumberIntVal(0)})}) does not match config value cty.SetVal([]cty.Value{cty.ObjectVal(map[string]cty.Value{"cidr_blocks":cty.ListVal([]cty.Value{cty.StringVal("0.0.0.0/0")}), "description":cty.NullVal(cty.String), "from_port":cty.NumberIntVal(0), "ipv6_cidr_blocks":cty.NullVal(cty.List(cty.String)), "prefix_list_ids":cty.NullVal(cty.List(cty.String)), "protocol":cty.StringVal("-1"), "security_groups":cty.NullVal(cty.Set(cty.String)), "self":cty.NullVal(cty.Bool), "to_port":cty.NumberIntVal(0)})})
2024-09-09T14:57:27.674+0900 [WARN]  Provider "registry.terraform.io/hashicorp/aws" produced an invalid plan for module.subnets.aws_subnet.public[0], but we are tolerating it because it is using the legacy plugin SDK.
    The following problems may be the cause of any confusing errors from downstream operations:
      - .ipv6_native: planned value cty.False for a non-computed attribute
      - .enable_resource_name_dns_a_record_on_launch: planned value cty.False for a non-computed attribute
      - .enable_resource_name_dns_aaaa_record_on_launch: planned value cty.False for a non-computed attribute
      - .enable_dns64: planned value cty.False for a non-computed attribute
      - .assign_ipv6_address_on_creation: planned value cty.False for a non-computed attribute
2024-09-09T14:57:27.674+0900 [WARN]  Provider "registry.terraform.io/hashicorp/aws" produced an invalid plan for module.subnets.aws_subnet.private[1], but we are tolerating it because it is using the legacy plugin SDK.
    The following problems may be the cause of any confusing errors from downstream operations:
      - .ipv6_native: planned value cty.False for a non-computed attribute
      - .map_public_ip_on_launch: planned value cty.False for a non-computed attribute
      - .enable_resource_name_dns_a_record_on_launch: planned value cty.False for a non-computed attribute
      - .enable_resource_name_dns_aaaa_record_on_launch: planned value cty.False for a non-computed attribute
      - .enable_dns64: planned value cty.False for a non-computed attribute
      - .assign_ipv6_address_on_creation: planned value cty.False for a non-computed attribute
2024-09-09T14:57:27.676+0900 [DEBUG] Resource instance state not found for node "module.nat.aws_nat_gateway.nat", instance module.nat.aws_nat_gateway.nat
2024-09-09T14:57:27.676+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_nat_gateway.nat" references: []
2024-09-09T14:57:27.676+0900 [DEBUG] refresh: module.nat.aws_nat_gateway.nat: no state, so not refreshing
2024-09-09T14:57:27.683+0900 [WARN]  Provider "registry.terraform.io/hashicorp/aws" produced an invalid plan for module.nat.aws_nat_gateway.nat, but we are tolerating it because it is using the legacy plugin SDK.
    The following problems may be the cause of any confusing errors from downstream operations:
      - .connectivity_type: planned value cty.StringVal("public") for a non-computed attribute
2024-09-09T14:57:27.683+0900 [DEBUG] Resource instance state not found for node "module.nat.aws_route_table.private", instance module.nat.aws_route_table.private
2024-09-09T14:57:27.683+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_route_table.private" references: []
2024-09-09T14:57:27.684+0900 [DEBUG] refresh: module.nat.aws_route_table.private: no state, so not refreshing
2024-09-09T14:57:27.688+0900 [WARN]  Provider "registry.terraform.io/hashicorp/aws" produced an invalid plan for module.nat.aws_route_table.private, but we are tolerating it because it is using the legacy plugin SDK.
    The following problems may be the cause of any confusing errors from downstream operations:
      - .route: planned value cty.SetVal([]cty.Value{cty.ObjectVal(map[string]cty.Value{"carrier_gateway_id":cty.StringVal(""), "cidr_block":cty.StringVal("0.0.0.0/0"), "core_network_arn":cty.StringVal(""), "destination_prefix_list_id":cty.StringVal(""), "egress_only_gateway_id":cty.StringVal(""), "gateway_id":cty.UnknownVal(cty.String), "ipv6_cidr_block":cty.StringVal(""), "local_gateway_id":cty.StringVal(""), "nat_gateway_id":cty.StringVal(""), "network_interface_id":cty.StringVal(""), "transit_gateway_id":cty.StringVal(""), "vpc_endpoint_id":cty.StringVal(""), "vpc_peering_connection_id":cty.StringVal("")})}) does not match config value cty.SetVal([]cty.Value{cty.ObjectVal(map[string]cty.Value{"carrier_gateway_id":cty.NullVal(cty.String), "cidr_block":cty.StringVal("0.0.0.0/0"), "core_network_arn":cty.NullVal(cty.String), "destination_prefix_list_id":cty.NullVal(cty.String), "egress_only_gateway_id":cty.NullVal(cty.String), "gateway_id":cty.UnknownVal(cty.String), "ipv6_cidr_block":cty.NullVal(cty.String), "local_gateway_id":cty.NullVal(cty.String), "nat_gateway_id":cty.NullVal(cty.String), "network_interface_id":cty.NullVal(cty.String), "transit_gateway_id":cty.NullVal(cty.String), "vpc_endpoint_id":cty.NullVal(cty.String), "vpc_peering_connection_id":cty.NullVal(cty.String)})})
2024-09-09T14:57:27.688+0900 [DEBUG] Resource instance state not found for node "module.nat.aws_route_table_association.private_subnets[0]", instance module.nat.aws_route_table_association.private_subnets[0]
2024-09-09T14:57:27.688+0900 [DEBUG] Resource instance state not found for node "module.nat.aws_route_table_association.private_subnets[1]", instance module.nat.aws_route_table_association.private_subnets[1]
2024-09-09T14:57:27.688+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_route_table_association.private_subnets[0]" references: []
2024-09-09T14:57:27.688+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_route_table_association.private_subnets[1]" references: []
2024-09-09T14:57:27.689+0900 [DEBUG] refresh: module.nat.aws_route_table_association.private_subnets[1]: no state, so not refreshing
2024-09-09T14:57:27.689+0900 [DEBUG] refresh: module.nat.aws_route_table_association.private_subnets[0]: no state, so not refreshing
2024-09-09T14:57:27.691+0900 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2024-09-09T14:57:27.711+0900 [INFO]  provider: plugin process exited: plugin=.terraform/providers/registry.terraform.io/hashicorp/aws/5.66.0/windows_amd64/terraform-provider-aws_v5.66.0_x5.exe id=3812
2024-09-09T14:57:27.711+0900 [DEBUG] provider: plugin exited
2024-09-09T14:57:27.712+0900 [DEBUG] building apply graph to check for errors
2024-09-09T14:57:27.714+0900 [DEBUG] Resource state not found for node "module.security_group.aws_security_group.private_sg", instance module.security_group.aws_security_group.private_sg
2024-09-09T14:57:27.715+0900 [DEBUG] Resource state not found for node "module.subnets.aws_subnet.public[0]", instance module.subnets.aws_subnet.public[0]
2024-09-09T14:57:27.715+0900 [DEBUG] Resource state not found for node "module.nat.aws_route_table_association.private_subnets[0]", instance module.nat.aws_route_table_association.private_subnets[0]
2024-09-09T14:57:27.715+0900 [DEBUG] Resource state not found for node "module.subnets.aws_subnet.public[1]", instance module.subnets.aws_subnet.public[1]
2024-09-09T14:57:27.715+0900 [DEBUG] Resource state not found for node "module.security_group.aws_security_group.public_sg", instance module.security_group.aws_security_group.public_sg
2024-09-09T14:57:27.715+0900 [DEBUG] Resource state not found for node "module.vpc.aws_vpc.main", instance module.vpc.aws_vpc.main
2024-09-09T14:57:27.715+0900 [DEBUG] Resource state not found for node "module.nat.aws_route_table_association.private_subnets[1]", instance module.nat.aws_route_table_association.private_subnets[1]
2024-09-09T14:57:27.715+0900 [DEBUG] Resource state not found for node "module.nat.aws_eip.nat", instance module.nat.aws_eip.nat
2024-09-09T14:57:27.715+0900 [DEBUG] Resource state not found for node "module.subnets.aws_subnet.private[0]", instance module.subnets.aws_subnet.private[0]
2024-09-09T14:57:27.715+0900 [DEBUG] Resource state not found for node "module.nat.aws_route_table.private", instance module.nat.aws_route_table.private
2024-09-09T14:57:27.715+0900 [DEBUG] Resource state not found for node "module.nat.aws_nat_gateway.nat", instance module.nat.aws_nat_gateway.nat
2024-09-09T14:57:27.715+0900 [DEBUG] Resource state not found for node "module.subnets.aws_subnet.private[1]", instance module.subnets.aws_subnet.private[1]
2024-09-09T14:57:27.715+0900 [DEBUG] ProviderTransformer: "module.nat.aws_route_table_association.private_subnets[0]" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.nat.aws_nat_gateway.nat (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.security_group.aws_security_group.private_sg (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.subnets.aws_subnet.private[1]" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.subnets.aws_subnet.private (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.security_group.aws_security_group.public_sg (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.subnets.aws_subnet.private[0]" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.subnets.aws_subnet.public (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.vpc.aws_vpc.main (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.security_group.aws_security_group.private_sg" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.nat.aws_route_table_association.private_subnets[1]" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.nat.aws_eip.nat (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.nat.aws_route_table.private (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.nat.aws_eip.nat" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.subnets.aws_subnet.public[0]" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.vpc.aws_vpc.main" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.subnets.aws_subnet.public[1]" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.security_group.aws_security_group.public_sg" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.nat.aws_route_table.private" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.nat.aws_nat_gateway.nat" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.716+0900 [DEBUG] ProviderTransformer: "module.nat.aws_route_table_association.private_subnets (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/hashicorp/aws"]
2024-09-09T14:57:27.717+0900 [DEBUG] ReferenceTransformer: "module.nat.var.nat_name (expand)" references: []
2024-09-09T14:57:27.718+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.vpc_id (expand)" references: [module.vpc.output.vpc_id (expand)]
2024-09-09T14:57:27.718+0900 [DEBUG] ReferenceTransformer: "module.vpc.var.vpc_cidr (expand)" references: []
2024-09-09T14:57:27.718+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_eip.nat" references: []
2024-09-09T14:57:27.718+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.private[0]" references: [module.subnets.var.private_subnets (expand) module.subnets.var.vpc_name (expand) module.subnets.var.private_subnets (expand) module.subnets.var.vpc_id (expand) module.subnets.var.azs (expand)]
2024-09-09T14:57:27.718+0900 [DEBUG] ReferenceTransformer: "module.subnets (close)" references: []
2024-09-09T14:57:27.718+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.vpc_id (expand)" references: [module.vpc.output.vpc_id (expand)]
2024-09-09T14:57:27.718+0900 [DEBUG] ReferenceTransformer: "module.nat.output.nat_gateway_id (expand)" references: [module.nat.aws_nat_gateway.nat module.nat.aws_nat_gateway.nat module.nat.aws_nat_gateway.nat (expand)]
2024-09-09T14:57:27.718+0900 [DEBUG] ReferenceTransformer: "module.vpc.output.vpc_id (expand)" references: [module.vpc.aws_vpc.main (expand) module.vpc.aws_vpc.main module.vpc.aws_vpc.main]
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/hashicorp/aws\"]" references: []
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.nat.var.vpc_id (expand)" references: [module.vpc.output.vpc_id (expand)]
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.vpc_name (expand)" references: []
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.vpc.var.vpc_name (expand)" references: []
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.private[1]" references: [module.subnets.var.private_subnets (expand) module.subnets.var.vpc_id (expand) module.subnets.var.azs (expand) module.subnets.var.private_subnets (expand) module.subnets.var.vpc_name (expand)]
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_route_table_association.private_subnets (expand)" references: [module.nat.var.private_subnet_ids (expand) module.nat.aws_route_table.private (expand) module.nat.aws_route_table.private module.nat.aws_route_table.private module.nat.var.private_subnet_ids (expand)]
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.private (expand)" references: [module.subnets.var.private_subnets (expand) module.subnets.var.vpc_id (expand) module.subnets.var.azs (expand) module.subnets.var.vpc_name (expand) module.subnets.var.private_subnets (expand)]
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.security_group.aws_security_group.public_sg (expand)" references: [module.security_group.var.vpc_id (expand) module.security_group.var.vpc_name (expand) module.security_group.var.vpc_name (expand) module.security_group.var.allowed_ssh_cidr (expand)]
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.vpc_name (expand)" references: []
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.nat (close)" references: []
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.security_group (close)" references: []
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.public_subnets (expand)" references: []
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.public[0]" references: [module.subnets.var.public_subnets (expand) module.subnets.var.vpc_id (expand) module.subnets.var.azs (expand) module.subnets.var.public_subnets (expand) module.subnets.var.vpc_name (expand)]
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_route_table_association.private_subnets[0]" references: [module.nat.var.private_subnet_ids (expand) module.nat.aws_route_table.private (expand) module.nat.aws_route_table.private module.nat.aws_route_table.private module.nat.var.private_subnet_ids (expand)]
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.security_group.aws_security_group.public_sg" references: [module.security_group.var.vpc_name (expand) module.security_group.var.vpc_name (expand) module.security_group.var.vpc_id (expand) module.security_group.var.allowed_ssh_cidr (expand)]
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.subnets (expand)" references: []
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_route_table.private (expand)" references: [module.nat.var.vpc_id (expand) module.nat.var.vpc_name (expand) module.nat.aws_nat_gateway.nat module.nat.aws_nat_gateway.nat module.nat.aws_nat_gateway.nat (expand)]
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "var.allowed_ssh_cidr" references: []
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_route_table_association.private_subnets[1]" references: [module.nat.var.private_subnet_ids (expand) module.nat.aws_route_table.private (expand) module.nat.aws_route_table.private module.nat.aws_route_table.private module.nat.var.private_subnet_ids (expand)]
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.vpc (close)" references: []
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.public (expand)" references: [module.subnets.var.public_subnets (expand) module.subnets.var.vpc_name (expand) module.subnets.var.vpc_id (expand) module.subnets.var.azs (expand) module.subnets.var.public_subnets (expand)]
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.vpc.aws_vpc.main (expand)" references: [module.vpc.var.vpc_name (expand) module.vpc.var.vpc_cidr (expand)]
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.nat.var.vpc_name (expand)" references: []
2024-09-09T14:57:27.719+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_route_table.private" references: [module.nat.var.vpc_name (expand) module.nat.var.vpc_id (expand) module.nat.aws_nat_gateway.nat module.nat.aws_nat_gateway.nat module.nat.aws_nat_gateway.nat (expand)]
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.subnets.output.public_subnet_ids (expand)" references: [module.subnets.aws_subnet.public[0] module.subnets.aws_subnet.public (expand) module.subnets.aws_subnet.public[1]]
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_nat_gateway.nat" references: [module.nat.var.nat_name (expand) module.nat.aws_eip.nat module.nat.aws_eip.nat module.nat.aws_eip.nat (expand) module.nat.var.public_subnet_id (expand)]
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.security_group.aws_security_group.private_sg (expand)" references: [module.security_group.var.vpc_name (expand) module.security_group.var.vpc_name (expand) module.security_group.var.vpc_id (expand) module.security_group.var.vpc_cidr (expand)]
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "var.vpc_name" references: []
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.allowed_ssh_cidr (expand)" references: []
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.azs (expand)" references: []
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.security_group.output.public_sg_id (expand)" references: [module.security_group.aws_security_group.public_sg (expand) module.security_group.aws_security_group.public_sg module.security_group.aws_security_group.public_sg]
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.security_group.aws_security_group.private_sg" references: [module.security_group.var.vpc_id (expand) module.security_group.var.vpc_name (expand) module.security_group.var.vpc_name (expand) module.security_group.var.vpc_cidr (expand)]
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_nat_gateway.nat (expand)" references: [module.nat.var.nat_name (expand) module.nat.aws_eip.nat module.nat.aws_eip.nat module.nat.aws_eip.nat (expand) module.nat.var.public_subnet_id (expand)]
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.nat.var.public_subnet_id (expand)" references: [module.subnets.output.public_subnet_ids (expand)]
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.nat (expand)" references: []
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.security_group (expand)" references: []
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "var.region" references: []
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.nat.var.private_subnet_ids (expand)" references: [module.subnets.output.private_subnet_ids (expand)]
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.subnets.var.private_subnets (expand)" references: []
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.security_group.output.private_sg_id (expand)" references: [module.security_group.aws_security_group.private_sg (expand) module.security_group.aws_security_group.private_sg module.security_group.aws_security_group.private_sg]
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.vpc.aws_vpc.main" references: [module.vpc.var.vpc_name (expand) module.vpc.var.vpc_cidr (expand)]
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.subnets.aws_subnet.public[1]" references: [module.subnets.var.public_subnets (expand) module.subnets.var.public_subnets (expand) module.subnets.var.vpc_id (expand) module.subnets.var.azs (expand) module.subnets.var.vpc_name (expand)]
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.nat.aws_eip.nat (expand)" references: []
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "var.vpc_cidr" references: []
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.security_group.var.vpc_cidr (expand)" references: []
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.subnets.output.private_subnet_ids (expand)" references: [module.subnets.aws_subnet.private[0] module.subnets.aws_subnet.private[1] module.subnets.aws_subnet.private (expand)]
2024-09-09T14:57:27.720+0900 [DEBUG] ReferenceTransformer: "module.vpc (expand)" references: []
2024-09-09T14:57:27.724+0900 [DEBUG] pruneUnusedNodes: module.security_group.output.public_sg_id (expand) is no longer needed, removing
2024-09-09T14:57:27.724+0900 [DEBUG] pruneUnusedNodes: module.security_group.output.private_sg_id (expand) is no longer needed, removing
2024-09-09T14:57:27.724+0900 [DEBUG] pruneUnusedNodes: module.nat.output.nat_gateway_id (expand) is no longer needed, removing
2024-09-09T14:57:27.726+0900 [INFO]  backend/local: plan operation completed
